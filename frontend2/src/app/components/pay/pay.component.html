<app-nav-bar></app-nav-bar>
<div class="payment-container">
    <div class="payment-selection">
      <h2>Forma de pago</h2>
      <div class="payment-buttons">
        <button class="btn payment-btn" [class.selected]="selectedPaymentMethod === 'credit-debit'" (click)="selectPaymentMethod('credit-debit')">Tarjeta crédito / débito</button>
        <button class="btn payment-btn" [class.selected]="selectedPaymentMethod === 'paypal'" (click)="selectPaymentMethod('paypal')">Paypal</button>
      </div>
      
      <hr>
      
      <div *ngIf="selectedPaymentMethod === 'credit-debit'" class="payment-table">
        <div class="card" *ngFor="let card of savedCards">
          <span class="card-icon"><img [src]="card.icon" alt="Card Icon"></span>
          <span class="card-number">{{ card.number }}</span>
          <span class="card-expiry">{{ card.expiry }}</span>
          <button class="btn select-btn" (click)="selectCard(card)">Seleccionar</button>
        </div>
        
        <h3>Agregar tarjeta nueva</h3>
        <!-- <form (ngSubmit)="submitCardDetails()">
          <div class="form-group">
            <label for="cardNumber">Número</label>
            <input type="text" id="cardNumber" name="cardNumber" [(ngModel)]="cardDetails.cardNumber" required>
          </div>
          <div class="form-group">
            <label for="cardHolder">Titular de la tarjeta</label>
            <input type="text" id="cardHolder" name="cardHolder" [(ngModel)]="cardDetails.cardHolder" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="expiryDate">Vencimiento</label>
              <input type="text" id="expiryDate" name="expiryDate" [(ngModel)]="cardDetails.expiryDate" required placeholder="MM / YY">
            </div>
            <div class="form-group">
              <label for="cvv">CVC</label>
              <input type="text" id="cvv" name="cvv" [(ngModel)]="cardDetails.cvv" required>
            </div>
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" [(ngModel)]="cardDetails.saveCard" name="saveCard"> Guardar tarjeta
            </label>
          </div>
          <button type="submit" class="btn confirm-btn">Registrar Tarjeta</button>
        </form> -->
      </div>
    </div>
  
    <div class="order-details">
      <h2>Detalles del pedido</h2>
      
    
      <table>
       
        <tbody>
          <tr *ngFor="let product of cart$ | async; let i = index"  class="linea">
            
            <td ><div >{{ product.product.name }}"x 1"</div></td>
             
            <td>{{ product.product.price }}</td>
          
          </tr>
          <tr>
            <td>Envio:</td>
            <td>200</td>
          </tr>
          <tr>
            <td>Total</td>
            <td>{{ getTotalPrice()+200 | currency }}</td>
          </tr>
    
        </tbody>
        <h4></h4>   
      </table>
    </div>
   </div> 
  <button class="btn confirm-btn final-btn" (click)="sendCartToBackend()">Confirmar y pagar</button>
  <app-footer></app-footer>



